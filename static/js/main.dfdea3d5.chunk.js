(this.webpackJsonphydro=this.webpackJsonphydro||[]).push([[0],{33:function(e,t){},43:function(e,t,c){},47:function(e,t,c){},55:function(e,t){},56:function(e,t){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);c(38);var n=c(0),a=c.n(n),s=c(13),r=c.n(s),i=(c(43),c(7)),l=c(68),j=c.p+"static/media/hlogo.a40974bd.png",o=c(2),d=function(){return Object(o.jsxs)(l.a,{bg:"primary",variant:"dark",children:[Object(o.jsx)(l.a.Brand,{href:"#home",children:Object(o.jsx)("img",{src:j,width:"40",height:"40",className:"d-inline-block align-top",alt:"Assiniboine logo"})}),Object(o.jsx)("h4",{style:{color:"white"},children:"HYDRO STAFF CONTRIBUTION"})]})},u=c(22),b=c(69),h=c(62),O=c(63),x=c(36),m=c(70),f=c(67),p=c(64),v=c(65),y=(c(47),function(e){var t=e.files,c=e.setFiles,a=e.paymentPeriod,s=e.setPaymentPeriod,r=e.handleSubmit,l=e.alert,j=e.setAlert,d=Object(n.useState)(""),y=Object(i.a)(d,2),g=y[0],N=y[1],P=Object(n.useState)(" "),S=Object(i.a)(P,2),w=S[0],T=S[1],k=Object(n.useState)(" "),C=Object(i.a)(k,2),F=C[0],_=C[1],A=Object(n.useState)(""),E=Object(i.a)(A,2),R=E[0],B=E[1],I=a.slice(0,4),D=["Name","Member_Number","Employer_Account",a,"Total-1","Employee Account",I,"Total"],q=function(e){"current-schedule"===e.target.id?N(e.target.value):T(e.target.value),c([].concat(Object(u.a)(t),[e.target.files[0]]))};return Object(n.useEffect)((function(){t&&(_(t[0]),B(t[1])),l&&setTimeout((function(){j(!1)}),1500)})),Object(o.jsx)("div",{className:"file-upload",children:Object(o.jsx)(b.a,{style:{background:"darkgray"},children:Object(o.jsx)(h.a,{children:Object(o.jsxs)(O.a,{children:[Object(o.jsx)(x.a,{children:Object(o.jsxs)("div",{className:"form",children:[l&&Object(o.jsx)(m.a,{className:"text-center",variant:"danger",children:"Please enter required information"}),Object(o.jsxs)(f.a,{children:[Object(o.jsx)(f.a.Text,{className:"heading",as:"h5",children:"Please enter required fields"}),Object(o.jsxs)(f.a.Group,{children:[Object(o.jsx)(f.a.Row,{children:Object(o.jsx)(x.a,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(p.a.Prepend,{children:Object(o.jsx)(p.a.Text,{children:"Payment Period"})}),Object(o.jsx)(f.a.Control,{style:{width:"15rem"},type:"date",onChange:function(e){var t=e.target.value.split("-");s(t[1]+t[2]+"pp")}})]})})}),Object(o.jsx)("br",{}),Object(o.jsx)(f.a.Row,{children:Object(o.jsx)(x.a,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(p.a.Prepend,{children:Object(o.jsx)(p.a.Text,{children:"Current Schedule"})}),Object(o.jsx)(f.a.File,{id:"current-schedule",label:g,"data-browse":"upload",onChange:q,custom:!0})]})})}),Object(o.jsx)("br",{}),Object(o.jsx)(f.a.Row,{children:Object(o.jsx)(x.a,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(p.a.Prepend,{children:Object(o.jsx)(p.a.Text,{children:"Previous Schedule"})}),Object(o.jsx)(f.a.File,{id:"previous-schedule",label:w,"data-browse":"upload",onChange:q,custom:!0})]})})})]}),Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsx)(v.a,{onClick:function(){return r(t,D)},variant:"primary",children:"Process"})})]})]})}),Object(o.jsx)(x.a,{children:Object(o.jsxs)("div",{className:"form",children:[Object(o.jsx)(f.a.Text,{as:"h4",className:"heading",children:"Summary"}),Object(o.jsxs)("ul",{className:"summary",children:[Object(o.jsxs)("li",{children:["Payment Period:   ",Object(o.jsx)("span",{className:"update",children:a||null})]}),Object(o.jsxs)("li",{children:["Current Schedule:  ",Object(o.jsx)("span",{className:"update",children:null===F||void 0===F?void 0:F.name})]}),Object(o.jsxs)("li",{children:["Previous Schedule:   ",Object(o.jsx)("span",{className:"update",children:null===R||void 0===R?void 0:R.name})]})]})]})})]})})})})}),g=c(66),N=c(37),P=c(11),S=c.n(P),w=(c(57),function(e){var t=e.resolvedPromise,c=e.style,a=Object(n.useState)([]),s=Object(i.a)(a,2),r=s[0],l=s[1],j=Object(n.useState)([]),d=Object(i.a)(j,2),O=d[0],x=d[1],m=Object(n.useState)([]),f=Object(i.a)(m,2),p=f[0],y=f[1];return function(e){setTimeout((function(){e.length&&(x(e[0]),l(e[1]))}),1e3)}(t),Object(n.useEffect)((function(){(function(e,t){return"undefined"!==e&&"undefined"!==t||Object(N.reject)("There was an error"),new Promise((function(c,n){var a=[];t&&e&&(a=Object(u.a)(t)).forEach((function(t){e.forEach((function(e){t.Name===e.Name&&(t.Employer_Account=e.Employer_Account,t["Employee Account"]=e["Employee Account"])}))})),c(a),n("error")}))})(r.value,O.value).then((function(e){return y(null===e||void 0===e?void 0:e.slice(0))})).catch((function(e){return console.log(e)}))}),[r,O]),Object(o.jsxs)(h.a,{className:"p-5",fluid:!0,children:[Object(o.jsx)(b.a,{className:"display-container",children:Object(o.jsxs)(g.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(o.jsx)("thead",{children:Object(o.jsx)("tr",{className:"bg-primary text-white text-center",children:(null===p||void 0===p?void 0:p.length)?Object.values(p[1]).map((function(e,t){return Object(o.jsx)("th",{children:e},t)})):null})}),Object(o.jsx)("tbody",{className:"table-body",children:p?p.slice(2).map((function(e,t){return Object(o.jsx)("tr",{className:"text-center",children:Object.keys(e).map((function(t,c){return Object(o.jsx)("td",{children:e[t]},c)}))},t)})):null})]})}),Object(o.jsxs)("div",{className:c,children:[Object(o.jsx)(v.a,{className:"mr-3 px-5",onClick:function(){!function(e){var t=S.a.utils.json_to_sheet(e,{skipHeader:!0});console.log(t);var c=S.a.utils.book_new();S.a.utils.book_append_sheet(c,t,"test"),S.a.writeFile(c,"test.xlsx")}(p.slice(0))},variant:"primary",children:"Download"}),Object(o.jsx)(v.a,{className:"ml-3 px-5",onClick:function(){return window.location.reload()},variant:"primary",children:"Reset"})]})]})}),T=(c(58),function(){return Object(o.jsxs)(h.a,{className:"loader",children:[Object(o.jsx)("div",{className:"spinner-border text-muted "}),Object(o.jsx)("h4",{children:"Processing..."})]})}),k=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),j=l[0],u=l[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),O=h[0],x=h[1],m=Object(n.useState)([]),f=Object(i.a)(m,2),p=f[0],v=f[1],g=Object(n.useState)(!1),N=Object(i.a)(g,2),P=N[0],k=N[1],C=Object(n.useState)("btn-container"),F=Object(i.a)(C,2),_=F[0],A=F[1],E=function(){(null===c||void 0===c?void 0:c.length)<2||" "===j?x(!0):k(!0)};return Object(n.useEffect)((function(){P&&setTimeout((function(){k(!1)}),1500)})),Object(o.jsxs)(a.a.Fragment,{children:[Object(o.jsx)(d,{}),P?Object(o.jsx)(T,{}):Object(o.jsx)(y,{alert:O,setAlert:x,files:c,setFiles:s,paymentPeriod:j,setPaymentPeriod:u,handleSubmit:function(e,t){var c=[];E(),P||(null===e||void 0===e||e.map((function(e,n){return c.push(function(e,t){if(e)return new Promise((function(c,n){var a=new FileReader;a.readAsArrayBuffer(e),a.onload=function(e){var n=e.target.result,a=S.a.read(n,{type:"buffer"}),s=a.SheetNames[0],r=a.Sheets[s],i=S.a.utils.sheet_to_json(r,{header:t,blankrows:!1,defval:null});c(i)},a.onerror=function(e){n(e)}}))}(e,t))})),A("btn-container__show"),Promise.allSettled(c).then((function(e){return v(e)})))}}),Object(o.jsx)(w,{resolvedPromise:p,style:_})]})},C=(c(59),function(){return Object(o.jsx)("div",{children:Object(o.jsx)(k,{})})}),F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(C,{})}),document.getElementById("root")),F()}},[[60,1,2]]]);
//# sourceMappingURL=main.dfdea3d5.chunk.js.map